<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>꿈엘청 보드게임 동아리</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎲 꿈엘청 보드게임 동아리</h1>
            <div class="header-info">
                <div class="last-update desktop-only">
                    마지막 업데이트: <span id="lastUpdate">-</span>
                </div>
                <div class="header-controls desktop-only">
                    <a href="admin.html" class="admin-btn">⚙️ 관리자</a>
                </div>
            </div>
        </header>

        <div class="controls">
            <div class="search-box">
                <div class="search-input-group">
                    <input type="text" id="searchInput" placeholder="게임 이름으로 검색...">
                    <button onclick="searchAndFilter()" class="search-btn" title="검색">🔍</button>
                </div>
            </div>
            
            <div class="filter-box">
                <div class="filter-group players-filter">
                    <label for="playersFilter">플레이 인원:</label>
                    <div class="players-input-group">
                        <input type="number" id="playersFilter" min="1" max="20" placeholder="인원 수">
                        <label class="checkbox-label">
                            <input type="checkbox" id="bestPlayersOnly"> 베스트만
                        </label>
                    </div>
                </div>
                
                <div class="filter-group">
                    <label>플레이 시간 (분):</label>
                    <div class="slider-container">
                        <div class="slider-track">
                            <div class="slider-range" id="timeRange"></div>
                            <div class="slider-handle min-handle" id="timeMinHandle" data-slider="time" data-type="min"></div>
                            <div class="slider-handle max-handle" id="timeMaxHandle" data-slider="time" data-type="max"></div>
                        </div>
                        <input type="range" id="timeMin" class="slider-input" min="10" max="300" value="10" step="10" aria-label="최소 플레이 시간" title="최소 플레이 시간">
                        <input type="range" id="timeMax" class="slider-input" min="10" max="300" value="300" step="10" aria-label="최대 플레이 시간" title="최대 플레이 시간">
                    </div>
                    <div class="slider-values">
                        <span id="timeMinValue">10분</span>
                        <span id="timeMaxValue">300분+</span>
                    </div>
                </div>
                
                <div class="filter-group">
                    <label>난이도:</label>
                    <div class="slider-container">
                        <div class="slider-track">
                            <div class="slider-range" id="difficultyRange"></div>
                            <div class="slider-handle min-handle" id="difficultyMinHandle" data-slider="difficulty" data-type="min"></div>
                            <div class="slider-handle max-handle" id="difficultyMaxHandle" data-slider="difficulty" data-type="max"></div>
                        </div>
                        <input type="range" id="difficultyMin" class="slider-input" min="1" max="5" value="1" step="0.1" aria-label="최소 난이도" title="최소 난이도">
                        <input type="range" id="difficultyMax" class="slider-input" min="1" max="5" value="5" step="0.1" aria-label="최대 난이도" title="최대 난이도">
                    </div>
                    <div class="slider-values">
                        <span id="difficultyMinValue">1.0</span>
                        <span id="difficultyMaxValue">5.0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 그리드 뷰 -->
        <div id="gridView" class="grid-container">
            <div class="grid-header">
                <h2>보드게임 목록</h2>
            </div>
            <div id="gameGrid" class="game-grid"></div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            데이터를 불러오는 중...
        </div>

        <div class="error-message hidden" id="errorMessage">
            <span id="errorText"></span>
            <button onclick="hideError()">닫기</button>
        </div>
    </div>

    <!-- 게임 상세 모달 -->
    <div class="game-detail-modal hidden" id="gameDetailModal" onclick="closeGameModal()">
        <div class="game-detail-content" onclick="event.stopPropagation()">
            <button class="modal-close-btn" onclick="closeGameModal()">&times;</button>
            
            <div class="modal-game-image">
                <img id="modalGameImage" src="" alt="게임 이미지">
            </div>
            
            <div class="game-detail-info">
                <h2 id="modalGameName">게임명</h2>
                
                <div class="detail-field">
                    <span class="detail-label">난이도:</span>
                    <span class="detail-value" id="modalDifficulty">-</span>
                </div>
                
                <div class="detail-field">
                    <span class="detail-label">플레이인원:</span>
                    <span class="detail-value" id="modalPlayers">-</span>
                </div>
                
                <div class="detail-field">
                    <span class="detail-label">플레이 시간:</span>
                    <span class="detail-value" id="modalPlayTime">-</span>
                </div>
                
                <div class="detail-field">
                    <span class="detail-label">장르/테마:</span>
                    <span class="detail-value" id="modalGenre">-</span>
                </div>
                
                <div class="detail-field">
                    <span class="detail-label">구매자:</span>
                    <span class="detail-value" id="modalBuyer">-</span>
                </div>
                
                <a id="modalYoutubeLink" href="#" target="_blank" class="youtube-link">
                    📺 룰 설명 영상 보기
                </a>
            </div>
        </div>
    </div>

    <script type="module" src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>